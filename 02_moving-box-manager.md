# 引っ越し段ボール管理アプリ - 開発仕様書

> 最終更新: 2026-02-27
> ステータス: 開発準備完了

---

## 1. プロダクト概要

### 1.1 アプリ名候補
| 案 | 理由 |
|----|------|
| **ハコログ** | 「箱」+「ログ（記録）」、覚えやすい |
| **ダンボナビ** | 段ボール + ナビ |
| **BoxSnap** | グローバル展開も視野に |

※ アプリ名は商標登録されていないか J-PlatPat（https://www.j-platpat.inpit.go.jp/）で事前確認すること

### 1.2 一言で言うと
**段ボールにQRコードを貼って中身を管理。「あれどこ？」をゼロにする引っ越しアプリ**

### 1.3 ターゲットユーザー
- 引っ越しをする全ての人（年間約500万件の引っ越し）
- 特に段ボール10箱以上になる家族・カップルの引っ越し
- 20〜40代のスマホネイティブ世代

### 1.4 解決する課題
1. 20箱以上になると「どの箱に何を入れたか」全くわからなくなる
2. 新居で「包丁どこ？」「充電器どこ？」のパニックが毎回起きる
3. マジックで箱に書いても積み上げると見えない
4. 未開封の箱が数ヶ月放置されがち

---

## 2. 機能一覧

### 2.1 MVP（v1.0 - 最小リリース）

| # | 機能 | 詳細 | 優先度 |
|---|------|------|--------|
| F1 | 箱の作成 | 箱名・部屋カテゴリ（リビング/寝室/キッチン等）を設定 | 必須 |
| F2 | 中身の登録 | テキストでアイテムを追加（「赤いマグカップ」等） | 必須 |
| F3 | 写真撮影 | 箱の中身を撮影して箱に紐付け | 必須 |
| F4 | QRコード生成 | 箱ごとにユニークなQRコードを生成・表示 | 必須 |
| F5 | QRコードスキャン | カメラでQRを読み取り→箱の詳細を即表示 | 必須 |
| F6 | 箱一覧 | 全箱をリスト表示。部屋別フィルタ | 必須 |
| F7 | 開封チェック | 箱を「開封済み」にマーク | 必須 |
| F8 | アイテム検索 | 「包丁」で検索→「箱3: キッチン」がヒット | 必須 |
| F9 | 進捗表示 | 「12/20箱 開封済み」のプログレスバー | 必須 |

### 2.2 v1.1（初回アップデート）

| # | 機能 | 詳細 |
|---|------|------|
| F10 | 部屋テンプレート | 「リビング」「キッチン」「寝室」等のプリセット |
| F11 | アイテムテンプレート | 「食器」「衣類」「書籍」等のよくあるアイテム |
| F12 | QRコード一括印刷 | 全箱のQRをA4にまとめてPDF出力 |
| F13 | 引っ越しチェックリスト | 手続き系（転出届、電気ガス等）のチェックリスト |

### 2.3 v2.0（将来）

| # | 機能 | 詳細 |
|---|------|------|
| F14 | 家族共有 | 同じ引っ越しプロジェクトを複数端末で共有 |
| F15 | 音声入力 | 梱包しながら「OKハコログ、マグカップ追加」 |
| F16 | AI写真認識 | 撮影した写真からアイテムを自動タグ付け |
| F17 | 引っ越し後の収納提案 | 新居の間取りに応じた配置提案 |

---

## 3. 画面設計

### 3.1 画面遷移図

```
ホーム（箱一覧 + 進捗バー）
  │
  ├──→ 箱の追加
  │      │
  │      ├──→ 箱名・部屋カテゴリ入力
  │      ├──→ 中身アイテム追加
  │      ├──→ 写真撮影
  │      └──→ QRコード表示
  │
  ├──→ 箱の詳細
  │      ├──→ 中身一覧（編集可能）
  │      ├──→ 写真表示
  │      ├──→ QRコード表示
  │      └──→ 開封済みチェック
  │
  ├──→ QRスキャン（カメラ）
  │      └──→ スキャン成功 → 箱の詳細へ遷移
  │
  ├──→ 検索
  │      └──→ アイテム名で全箱横断検索
  │
  └──→ 設定
         ├──→ データバックアップ / 復元
         ├──→ 引っ越しプロジェクト管理（複数回対応）
         └──→ テーマ / 課金管理
```

### 3.2 主要画面のワイヤーフレーム

#### ① ホーム画面（箱一覧）
```
┌──────────────────────────────┐
│  ハコログ          [🔍] [📷]  │
│──────────────────────────────│
│                               │
│  進捗: ████████░░░░ 8/15箱    │
│  開封済み: 8 / 未開封: 7       │
│                               │
│  [全て] [リビング] [キッチン]   │
│  [寝室] [書斎] [その他]        │
│                               │
│  ┌─────────────────────────┐  │
│  │ 📦 箱1: キッチン - 食器  │  │
│  │ 🏷 マグカップ, 皿, 箸... │  │
│  │ ✅ 開封済み              │  │
│  └─────────────────────────┘  │
│                               │
│  ┌─────────────────────────┐  │
│  │ 📦 箱2: リビング - 本    │  │
│  │ 🏷 小説, 漫画, 辞書...   │  │
│  │ ⬜ 未開封                │  │
│  └─────────────────────────┘  │
│                               │
│  ┌─────────────────────────┐  │
│  │ 📦 箱3: 寝室 - 衣類     │  │
│  │ 🏷 コート, セーター...    │  │
│  │ ⬜ 未開封                │  │
│  └─────────────────────────┘  │
│                               │
│         [＋ 箱を追加]          │
└──────────────────────────────┘
```

#### ② 箱の詳細画面
```
┌──────────────────────────────┐
│ ← 箱2: リビング - 本   [編集] │
│──────────────────────────────│
│                               │
│  ┌────────────────────────┐   │
│  │                        │   │
│  │   [箱の中身の写真]      │   │
│  │                        │   │
│  └────────────────────────┘   │
│                               │
│  ステータス: ⬜ 未開封         │
│        → [ 開封済みにする ✅ ] │
│                               │
│  ── 中身 ──                   │
│  ・ハリーポッター全巻          │
│  ・村上春樹 3冊               │
│  ・ONE PIECE 1〜50巻          │
│  ・英和辞典                   │
│  ・ノート 5冊                 │
│                               │
│  [＋ アイテム追加]             │
│                               │
│  ── QRコード ──               │
│  ┌──────────┐                 │
│  │ ██ ██ ██ │                 │
│  │ ██    ██ │  [コピー]       │
│  │ ██ ██ ██ │  [共有]         │
│  └──────────┘                 │
│                               │
│  [この箱を削除]                │
└──────────────────────────────┘
```

#### ③ QRスキャン画面
```
┌──────────────────────────────┐
│ ← スキャン                    │
│──────────────────────────────│
│                               │
│  ┌────────────────────────┐   │
│  │                        │   │
│  │                        │   │
│  │     📷 カメラ映像       │   │
│  │                        │   │
│  │    ┌──────────┐        │   │
│  │    │ QRコードを │        │   │
│  │    │ 枠内に合わせて│     │   │
│  │    └──────────┘        │   │
│  │                        │   │
│  │                        │   │
│  └────────────────────────┘   │
│                               │
│  段ボールに貼ったQRコードを     │
│  カメラに映してください         │
│                               │
│  💡 QRが読めない場合は          │
│     箱一覧から検索もできます     │
└──────────────────────────────┘
```

#### ④ 検索画面
```
┌──────────────────────────────┐
│ ← 検索                       │
│──────────────────────────────│
│                               │
│  ┌────────────────────────┐   │
│  │ 🔍 包丁                │   │
│  └────────────────────────┘   │
│                               │
│  検索結果: 1件                 │
│                               │
│  ┌─────────────────────────┐  │
│  │ 📦 箱5: キッチン - 調理器│  │
│  │ ヒット: 「包丁 3本」     │  │
│  │ ⬜ 未開封               │  │
│  │ → [この箱の詳細を見る]   │  │
│  └─────────────────────────┘  │
│                               │
└──────────────────────────────┘
```

---

## 4. 技術スタック

### 4.1 推奨構成

```
フレームワーク:  Flutter (Dart)
状態管理:        Riverpod
ローカルDB:      Isar or Hive
QRコード生成:    qr_flutter パッケージ
QRコード読取:    mobile_scanner パッケージ
カメラ/写真:     image_picker パッケージ
画像保存:        path_provider（アプリ内ディレクトリ）
PDF生成:         pdf パッケージ（v1.1 QR一括印刷用）
テスト:          flutter_test + integration_test
CI/CD:           GitHub Actions
```

### 4.2 なぜFlutterか

| 比較項目 | Flutter | React Native |
|---------|---------|-------------|
| iOS/Android同時 | ○ | ○ |
| カメラ/QR連携 | ◎（mobile_scanner が高性能） | ○ |
| ローカルDB | ◎（Isar が高速） | ○ |
| 個人開発の生産性 | ◎ | ○ |

**DIY木材アプリと同じFlutterを使うことで、2アプリ並行開発の学習コストを最小化**

### 4.3 React Nativeで作る場合

```
フレームワーク:  React Native (TypeScript)
状態管理:        Zustand or Jotai
ローカルDB:      WatermelonDB or react-native-mmkv
QRコード生成:    react-native-qrcode-svg
QRコード読取:    react-native-vision-camera + vision-camera-code-scanner
カメラ/写真:     react-native-image-picker
PDF生成:         react-native-pdf-lib
テスト:          Jest + Detox
```

### 4.4 データモデル

```dart
// 引っ越しプロジェクト
class MoveProject {
  String id;           // UUID
  String name;         // 「2026年3月 引っ越し」
  DateTime createdAt;
  DateTime? completedAt;
  List<Box> boxes;
}

// 段ボール箱
class Box {
  String id;           // UUID（QRコードの値にもなる）
  String projectId;    // 所属プロジェクト
  String name;         // 「箱1」「キッチン-食器」
  String room;         // 部屋カテゴリ
  List<Item> items;    // 中身リスト
  List<String> photoIds; // 写真のファイルパス
  bool isOpened;       // 開封済みフラグ
  DateTime createdAt;
  DateTime? openedAt;
}

// アイテム（箱の中身）
class Item {
  String id;           // UUID
  String boxId;        // 所属する箱
  String name;         // 「赤いマグカップ」
  int quantity;        // 数量（デフォルト1）
  String? note;        // メモ
}
```

### 4.5 QRコードの仕様

```
QRコードに含めるデータ:
  "hakologue://box/{boxId}"

例:
  "hakologue://box/a1b2c3d4-e5f6-7890-abcd-ef1234567890"

読み取り時の挙動:
  1. アプリ内スキャン → boxIdでローカルDBを検索 → 箱詳細画面へ遷移
  2. 該当する箱がない場合 → 「この箱はこの端末に登録されていません」と表示

QRコードの印刷方法（ユーザー向け案内）:
  ・アプリ内でQR画像を長押し → 保存 → コンビニプリント
  ・A4にまとめて一括印刷（v1.1）
  ・QRの下に箱番号をテキスト表示（読み取りできない場合の手動検索用）
```

### 4.6 ディレクトリ構成（Flutter）

```
lib/
├── main.dart
├── app.dart
│
├── models/
│   ├── move_project.dart      # 引っ越しプロジェクト
│   ├── box.dart               # 段ボール箱
│   └── item.dart              # アイテム
│
├── services/
│   ├── database_service.dart  # Isar ローカルDB操作
│   ├── photo_service.dart     # 写真撮影・保存・読み込み
│   ├── qr_service.dart        # QR生成
│   └── search_service.dart    # 全文検索
│
├── providers/
│   ├── project_provider.dart
│   ├── box_provider.dart
│   └── search_provider.dart
│
├── screens/
│   ├── home_screen.dart       # 箱一覧 + 進捗
│   ├── box_add_screen.dart    # 箱追加
│   ├── box_detail_screen.dart # 箱詳細
│   ├── qr_scan_screen.dart    # QRスキャン
│   ├── search_screen.dart     # アイテム検索
│   └── settings_screen.dart   # 設定
│
├── widgets/
│   ├── box_card.dart          # 箱一覧のカード
│   ├── progress_bar.dart      # 開封進捗バー
│   ├── item_input_row.dart    # アイテム入力行
│   ├── qr_display.dart        # QRコード表示
│   ├── room_filter_chips.dart # 部屋フィルタ
│   └── photo_preview.dart     # 写真プレビュー
│
├── data/
│   └── room_presets.dart      # 部屋プリセット
│
└── constants/
    ├── colors.dart
    └── dimensions.dart
```

### 4.7 写真の保存戦略

```
保存先: アプリのドキュメントディレクトリ内
パス: {appDocDir}/photos/{projectId}/{boxId}_{timestamp}.jpg

写真の最適化:
  ・撮影時に自動リサイズ（最大1280px）
  ・JPEG品質 80%
  ・1箱あたり最大5枚（無料版は1枚）

ストレージ見積:
  ・1枚あたり約200KB
  ・20箱 × 3枚 = 60枚 = 約12MB
  → 端末ストレージへの影響は無視できるレベル
```

---

## 5. 法的チェックリスト

### 5.1 著作権・商標 → リスク：極低

| 項目 | 判定 | 理由 |
|------|------|------|
| アプリの機能 | **問題なし** | 箱の記録・QRコード管理は汎用的な機能 |
| 引っ越し業者名 | **注意** | 「サカイ」「アート」等をアプリ内で使わない |
| アプリ名 | **要確認** | 決定前にJ-PlatPatで商標検索 |

### 5.2 プライバシー・権限 → リスク：中（カメラ使用のため）

| 権限 | 用途 | 対応 |
|------|------|------|
| カメラ | QRスキャン・写真撮影 | **必須**: 利用目的を明記 |
| フォトライブラリ | 既存写真の添付 | **必須**: 利用目的を明記 |
| ストレージ | 写真のローカル保存 | 自動（アプリ内ディレクトリ） |

### 5.3 必要な法的文書

| 文書 | 必要性 | タイミング |
|------|--------|-----------|
| プライバシーポリシー | **必須** | リリース前 |
| 利用規約 | **必須** | リリース前 |
| 特定商取引法に基づく表記 | **課金時必須** | アプリ内課金実装時 |

### 5.4 プライバシーポリシーの要点

```
このアプリが収集するデータ:
- 個人情報: 収集しない
- カメラ: QRコード読み取りおよび箱の中身の写真撮影にのみ使用。
  撮影した写真は端末内にのみ保存され、外部サーバーには送信されません。
- 位置情報: 収集しない
- 利用データ: 広告表示のためにAdMob SDKが匿名の利用データを収集

データの保存:
- 全てのデータ（箱情報、アイテム情報、写真）は端末内にのみ保存
- サーバーへの送信は一切行わない
- アプリを削除するとデータも削除される
```

### 5.5 App Store / Google Play 審査の注意点

```
iOS:
  - NSCameraUsageDescription: 「QRコードの読み取りと箱の中身の撮影に使用します」
  - NSPhotoLibraryUsageDescription: 「箱の中身の写真を保存・読み込むために使用します」
  - App Tracking Transparency: 広告使用時は必須

Android:
  - CAMERA パーミッション
  - READ_EXTERNAL_STORAGE / WRITE_EXTERNAL_STORAGE（Android 12以下）
  - READ_MEDIA_IMAGES（Android 13以上）
```

---

## 6. 収益モデル詳細

### 6.1 フェーズ別

```
【Phase 1: リリース〜3ヶ月】
  ・完全無料（広告なし）
  ・3月の引っ越しシーズンに合わせてリリース
  ・口コミ＆レビュー獲得に集中
  ・目標: 1,000 DL, ★4.5以上

【Phase 2: 3ヶ月〜】
  ・広告追加（バナー広告、一覧画面のみ）
  ・箱詳細/スキャン画面は広告なし（UX最優先）

【Phase 3: 6ヶ月〜】
  ・プレミアム課金追加（480円買い切り）
    - 広告非表示
    - 箱 無制限（無料は10箱まで）
    - 写真 箱あたり5枚（無料は1枚）
    - PDF出力
```

### 6.2 月1万円シミュレーション

```
引っ越しシーズン（3-4月）:
  月間新規DL 500人 × 課金率 8% × ¥480 = 月 ¥19,200 ✅

オフシーズン（5-2月）:
  月間新規DL 100人 × 課金率 8% × ¥480 = 月 ¥3,840
  + 広告収入 月 ¥2,000
  = 月 ¥5,840

年間平均:
  (¥19,200 × 2ヶ月 + ¥5,840 × 10ヶ月) / 12 = 月 ¥8,067

→ 2年目以降は累計DLの蓄積で月1万円安定ラインに乗る
→ チェックリスト機能（F13）追加で引っ越し以外の収納用途にも拡大可能
```

---

## 7. ASO（App Store Optimization）戦略

### 7.1 狙うキーワード

| キーワード | 検索意図 | 競合度 |
|-----------|---------|--------|
| 引っ越し 荷物 管理 | 直球 | **極低** |
| 段ボール 中身 管理 | 具体的な悩み | **極低** |
| 引っ越し アプリ | 幅広い | 中（見積もり系が競合） |
| 荷解き チェックリスト | 作業中の検索 | **極低** |
| QRコード 箱 管理 | 機能指名 | **極低** |

### 7.2 ストア掲載文（案）

```
タイトル: ハコログ - 引っ越し段ボール管理

サブタイトル: QRコードで「あれどこ？」をゼロにする荷物管理アプリ

説明文:
引っ越しで「あの箱に何入れたっけ？」と困った経験はありませんか？

ハコログは、段ボールの中身を写真とメモで記録し、
QRコードでいつでも中身を確認できる引っ越し専用アプリです。

◆ こんな時に便利
・20箱以上の引っ越しで中身がわからなくなる
・新居で「包丁はどの箱？」とパニック
・未開封のまま放置された箱の整理

◆ 主な機能
・箱ごとにQRコードを自動生成
・カメラで中身を撮影して記録
・アイテム名で全箱横断検索
・開封進捗をひと目で把握
・全データ端末保存でプライバシー安心

◆ 使い方はかんたん3ステップ
① 箱を作って中身をメモ・撮影
② QRコードを印刷して箱に貼る
③ 新居でスキャン → 中身がすぐわかる！
```

---

## 8. マーケティング戦略（季節性の活用）

### 8.1 年間スケジュール

```
1月:  リリース準備完了。ASO最適化
2月:  ★リリース。「引っ越し準備」系キーワードで露出開始
3月:  ★ピーク月。SNS施策強化。ブログ記事投稿
4月:  ★ピーク月。レビュー依頼キャンペーン
5月:  ユーザーフィードバック収集。v1.1開発
6月:  v1.1リリース（チェックリスト機能等）
7-8月: 収納整理ニーズ向けにリポジショニング
9月:  転勤シーズンの小ピーク
10月: 翌シーズンに向けた改善開発
11-12月: v2.0開発（家族共有機能等）
```

### 8.2 初期プロモーション案

| 施策 | コスト | 期待効果 |
|------|--------|---------|
| 引っ越し系ブログへの寄稿・紹介依頼 | 無料 | SEO経由の継続流入 |
| X(Twitter) で「#引っ越しハック」投稿 | 無料 | バズ狙い |
| Reddit r/japanlife 等で紹介 | 無料 | 在日外国人層の獲得 |
| 引っ越し系YouTuberにレビュー依頼 | 無料〜数千円 | 動画経由の大量DL |

---

## 9. 開発スケジュール目安

```
Week 1:  プロジェクト初期設定、データモデル定義
Week 2:  箱のCRUD（作成・読取・更新・削除）+ ローカルDB
Week 3:  写真撮影・保存・表示機能
Week 4:  QRコード生成・表示機能
Week 5:  QRコードスキャン機能（カメラ連携）
Week 6:  検索機能 + 進捗バー + 部屋フィルタ
Week 7:  UI調整 + テスト + 設定画面
Week 8:  ストア申請準備（スクショ、説明文、PP、利用規約）
Week 9:  リリース + ASO最適化
```

---

## 10. リリース前チェックリスト

- [ ] J-PlatPatでアプリ名の商標チェック
- [ ] プライバシーポリシーをWebページとして公開（GitHub Pages等で無料）
- [ ] 利用規約を作成
- [ ] App Store / Google Play のデベロッパーアカウント作成
- [ ] カメラ権限の利用目的テキストを各プラットフォーム向けに準備
- [ ] スクリーンショット 5枚以上（実機でリアルな使用シーンを撮影）
- [ ] アプリアイコン作成（1024x1024）
- [ ] QRコードの生成・読取テスト（様々な照明条件で）
- [ ] 写真保存・読み込みのストレージテスト
- [ ] 複数端末でのUI確認
- [ ] クラッシュレポート（Firebase Crashlytics）導入
- [ ] 引っ越しシーズン（3月）に間に合うスケジュール確認

---

## 11. 2アプリ並行開発の効率化

木材カットアプリと共通化できる部分:

```
共通化:
  ├── Flutter プロジェクト設定・CI/CD
  ├── テーマ・カラー設計（ブランド別だがベースは共通）
  ├── AdMob 広告ラッパー
  ├── 設定画面の骨格
  ├── プライバシーポリシー/利用規約のテンプレート
  └── ストア申請のスクリーンショット撮影フロー

個別:
  ├── 木材: カット最適化アルゴリズム、Canvas描画
  └── 引越: QR/カメラ連携、写真管理、全文検索
```
